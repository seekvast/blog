(()=>{var e={};e.id=750,e.ids=[750],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12871:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=a(50482),n=a(69108),l=a(62563),o=a.n(l),s=a(68300),i={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>s[e]);a.d(t,i);let c=["",{children:["(editor)",{children:["post",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,17747)),"/var/www/forum-system-temp/src/app/(editor)/post/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,37141)),"/var/www/forum-system-temp/src/app/(editor)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,21342)),"/var/www/forum-system-temp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/var/www/forum-system-temp/src/app/(editor)/post/page.tsx"],u="/(editor)/post/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(editor)/post/page",pathname:"/post",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34851:(e,t,a)=>{Promise.resolve().then(a.bind(a,27067))},71856:(e,t,a)=>{Promise.resolve().then(a.bind(a,19198))},53267:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=a(39694);a(3729);let n=r._(a(60546));function l(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){let a=n.default,r={loading:e=>{let{error:t,isLoading:a,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e),Object.assign(r,t);let o=r.loader;return a({...r,loader:()=>null!=o?o().then(l):Promise.resolve(l(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91868:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return n}});let r=a(61462);function n(e){let{children:t}=e;return(0,r.throwWithNoSSR)(),t}},60546:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=a(39694)._(a(3729)),n=a(91868),l=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function a(e){let a=t.loading,l=r.default.createElement(a,{isLoading:!0,pastDelay:!0,error:null}),o=t.ssr?r.default.Fragment:n.NoSSR,s=t.lazy;return r.default.createElement(r.default.Suspense,{fallback:l},r.default.createElement(o,null,r.default.createElement(s,e)))}return t.lazy=r.default.lazy(t.loader),a.displayName="LoadableComponent",a}},27067:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(95344),n=a(49517);function l({children:e}){return(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx(n.h,{}),r.jsx("div",{className:"mx-auto max-w-screen-xl px-4 py-8",children:e})]})}},19198:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var r=a(95344),n=a(3729),l=a(53267),o=a.n(l),s=a(69224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.Z)("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),c=(0,s.Z)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),d=(0,s.Z)("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),u=(0,s.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),m=(0,s.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,s.Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),x=(0,s.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),y=(0,s.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),f=(0,s.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),h=(0,s.Z)("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),b=(0,s.Z)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);var g=a(5094),v=a(62409),k="horizontal",w=["horizontal","vertical"],j=n.forwardRef((e,t)=>{let{decorative:a,orientation:n=k,...l}=e,o=w.includes(n)?n:k;return(0,r.jsx)(v.WV.div,{"data-orientation":o,...a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...l,ref:t})});j.displayName="Separator";var P=a(11453);let N=n.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...n},l)=>r.jsx(j,{ref:l,decorative:a,orientation:t,className:(0,P.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...n}));N.displayName=j.displayName;let _=o()(async()=>{},{loadableGenerated:{modules:["/var/www/forum-system-temp/src/components/editor/markdown-editor.tsx -> @uiw/react-md-editor"]},ssr:!1}),C={h1:{name:"一级标题",keyCommand:"h1",buttonProps:{"aria-label":"插入一级标题"},icon:r.jsx("span",{className:"text-sm font-bold",children:"H1"}),execute:(e,t)=>{let a=`# ${e.selectedText}
`;t.replaceSelection(a)}},h2:{name:"二级标题",keyCommand:"h2",buttonProps:{"aria-label":"插入二级标题"},icon:r.jsx("span",{className:"text-sm font-bold",children:"H2"}),execute:(e,t)=>{let a=`## ${e.selectedText}
`;t.replaceSelection(a)}},h3:{name:"三级标题",keyCommand:"h3",buttonProps:{"aria-label":"插入三级标题"},icon:r.jsx("span",{className:"text-sm font-bold",children:"H3"}),execute:(e,t)=>{let a=`### ${e.selectedText}
`;t.replaceSelection(a)}},bold:{name:"粗体",keyCommand:"bold",buttonProps:{"aria-label":"添加粗体文本"},icon:r.jsx(i,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`**${e.selectedText}**`;t.replaceSelection(a)}},italic:{name:"斜体",keyCommand:"italic",buttonProps:{"aria-label":"添加斜体文本"},icon:r.jsx(c,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`_${e.selectedText}_`;t.replaceSelection(a)}},strikethrough:{name:"删除线",keyCommand:"strikethrough",buttonProps:{"aria-label":"添加删除线"},icon:r.jsx(d,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`~~${e.selectedText}~~`;t.replaceSelection(a)}},quote:{name:"引用",keyCommand:"quote",buttonProps:{"aria-label":"插入引用"},icon:r.jsx(u,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`> ${e.selectedText}
`;t.replaceSelection(a)}},spoiler:{name:"黑幕",keyCommand:"spoiler",buttonProps:{"aria-label":"添加黑幕"},icon:r.jsx(m,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`>!${e.selectedText}!<`;t.replaceSelection(a)}},code:{name:"代码",keyCommand:"code",buttonProps:{"aria-label":"插入代码"},icon:r.jsx(p,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`\`${e.selectedText}\``;t.replaceSelection(a)}},link:{name:"链接",keyCommand:"link",buttonProps:{"aria-label":"插入链接"},icon:r.jsx(x,{className:"h-4 w-4"}),execute:(e,t)=>{let a=e.selectedText.match(/^https?:\/\//)?e.selectedText:"",r=`[${e.selectedText}](${a})`;t.replaceSelection(r)}},image:{name:"图片",keyCommand:"image",buttonProps:{"aria-label":"插入图片"},icon:r.jsx(y,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`![](${e.selectedText})`;t.replaceSelection(a)}},unorderedList:{name:"无序列表",keyCommand:"unordered-list",buttonProps:{"aria-label":"插入无序列表"},icon:r.jsx(f,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`- ${e.selectedText}
`;t.replaceSelection(a)}},orderedList:{name:"有序列表",keyCommand:"ordered-list",buttonProps:{"aria-label":"插入有序列表"},icon:r.jsx(h,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`1. ${e.selectedText}
`;t.replaceSelection(a)}},mention:{name:"提及",keyCommand:"mention",buttonProps:{"aria-label":"提及用户"},icon:r.jsx(b,{className:"h-4 w-4"}),execute:(e,t)=>{let a=`@${e.selectedText}`;t.replaceSelection(a)}}};function S({value:e,onChange:t,onImageUpload:a,className:l,...o}){let s=n.useCallback(async r=>{if(!a)return;let n=r.clipboardData?.items;if(n){for(let l of Array.from(n))if(0===l.type.indexOf("image")){r.preventDefault();let n=l.getAsFile();if(!n)continue;try{let r=await a(n),l=`![](${r})
`;t?.(e?e+l:l)}catch(e){console.error("Failed to upload image:",e)}}}},[a,t,e]),i=n.useCallback(async r=>{if(a){for(let n of(r.preventDefault(),Array.from(r.dataTransfer.files)))if(0===n.type.indexOf("image"))try{let r=await a(n),l=`![](${r})
`;t?.(e?e+l:l)}catch(e){console.error("Failed to upload image:",e)}}},[a,t,e]),c=n.useCallback(e=>{let a=e.target.value,r=a.split(/\s/).pop();if(r&&/^https?:\/\/\S+$/.test(r)){let e=r.match(/https?:\/\/(?:www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_-]+)/)||r.match(/https?:\/\/(?:www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){let n=e[1],l=`<iframe width="560" height="315" src="https://www.youtube.com/embed/${n}" frameborder="0" allowfullscreen></iframe>`,o=a.replace(r,l);t?.(o)}else{let e=a.replace(r,`[${r}](${r})`);t?.(e)}}},[t]);return(0,r.jsxs)("div",{className:(0,P.cn)("markdown-editor",l),onPaste:s,onDrop:i,children:[r.jsx("div",{className:"border-b p-1.5",children:r.jsx("div",{className:"flex flex-wrap items-center gap-0.5",children:Object.entries(C).map(([e,t])=>(0,r.jsxs)(n.Fragment,{children:[r.jsx(g.z,{variant:"ghost",size:"icon",className:"h-6 w-6",...t.buttonProps,onClick:()=>t.execute({selectedText:""},{}),children:t.icon}),["h3","italic","quote","code","image","orderedList"].includes(e)&&r.jsx(N,{orientation:"vertical",className:"mx-1 h-4"})]},e))})}),r.jsx(_,{value:e,onChange:e=>t?.(e||""),preview:"edit",hideToolbar:!0,className:"min-h-[400px] border-0",textareaProps:{placeholder:"说点什么...",onInput:c},...o})]})}var $=a(19591),M=a(46540);let z=[{id:1,name:"OTA测试室",icon:"#"},{id:2,name:"故事记",icon:"#"},{id:3,name:"记忆迷宫",icon:"#"},{id:4,name:"记忆迷宫",icon:"#"},{id:5,name:"充电攻略",icon:"#"},{id:6,name:"NGP体验营",icon:"#"},{id:7,name:"新能源",icon:"#"},{id:8,name:"记忆迷宫",icon:"#"},{id:9,name:"充电攻略",icon:"#"},{id:10,name:"充电攻略",icon:"#"},{id:11,name:"充电攻略",icon:"#"},{id:12,name:"充电攻略",icon:"#"},{id:13,name:"充电攻略",icon:"#"}];function T(){let[e,t]=n.useState(""),[a,l]=n.useState(""),o=n.useCallback(async e=>Promise.resolve(""),[]),s=n.useCallback(()=>{console.log({title:a,content:e})},[a,e]),i=n.useCallback(()=>{console.log("Save draft",{title:a,content:e})},[a,e]);return(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsxs)("div",{className:"mx-auto flex max-w-[808px] items-center justify-between px-6 py-4",children:[r.jsx("h1",{className:"text-lg font-medium",children:"发布文章"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(g.z,{variant:"outline",size:"sm",onClick:i,children:"保存草稿箱"}),r.jsx(g.z,{size:"sm",onClick:s,children:"发布"})]})]}),(0,r.jsxs)("main",{className:"mx-auto max-w-[808px] px-6",children:[r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(e=>(0,r.jsxs)($.C,{variant:"secondary",className:"flex items-center space-x-1 rounded-full px-3 py-1",children:[r.jsx("span",{children:e.icon}),r.jsx("span",{children:e.name})]},e.id))})}),r.jsx(M.I,{value:a,onChange:e=>l(e.target.value),placeholder:"请输入文章标题",className:"mb-4 border-0 px-0 text-lg placeholder:text-gray-400 focus-visible:ring-0"}),r.jsx(S,{value:e,onChange:t,onImageUpload:o,className:"rounded-lg border"})]})]})}},19591:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var r=a(95344);a(3729);var n=a(49247),l=a(11453);let o=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s({className:e,variant:t,...a}){return r.jsx("div",{className:(0,l.cn)(o({variant:t}),e),...a})}},37141:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});let r=(0,a(86843).createProxy)(String.raw`/var/www/forum-system-temp/src/app/(editor)/layout.tsx`),{__esModule:n,$$typeof:l}=r,o=r.default},17747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});let r=(0,a(86843).createProxy)(String.raw`/var/www/forum-system-temp/src/app/(editor)/post/page.tsx`),{__esModule:n,$$typeof:l}=r,o=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[225,591,581,582],()=>a(12871));module.exports=r})();