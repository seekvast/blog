(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{2898:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let n=(0,a.forwardRef)(({color:n="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:s="",children:d,...u},m)=>(0,a.createElement)("svg",{ref:m,...r,width:o,height:o,stroke:n,strokeWidth:c?24*Number(i)/Number(o):i,className:["lucide",`lucide-${l(e)}`,s].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n}},2274:function(e,t,n){Promise.resolve().then(n.bind(n,8013))},4930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let a=n(1024);n(2265);let r=a._(n(4795));function l(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){let n=r.default,a={loading:e=>{let{error:t,isLoading:n,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e),Object.assign(a,t);let o=a.loader;return n({...a,loader:()=>null!=o?o().then(l):Promise.resolve(l(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6005:function(e,t,n){"use strict";function a(e){let{children:t}=e;return t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return a}}),n(6491)},4795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=n(1024)._(n(2265)),r=n(6005),l=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function n(e){let n=t.loading,l=a.default.createElement(n,{isLoading:!0,pastDelay:!0,error:null}),o=t.ssr?a.default.Fragment:r.NoSSR,i=t.lazy;return a.default.createElement(a.default.Suspense,{fallback:l},a.default.createElement(o,null,a.default.createElement(i,e)))}return t.lazy=a.default.lazy(t.loader),n.displayName="LoadableComponent",n}},8013:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var a=n(7437),r=n(2265),l=n(4930),o=n.n(l),i=n(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),s=(0,i.Z)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),d=(0,i.Z)("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),u=(0,i.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),m=(0,i.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=(0,i.Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),x=(0,i.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),p=(0,i.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),y=(0,i.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),h=(0,i.Z)("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),b=(0,i.Z)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);var g=n(575),v=n(9381),k="horizontal",j=["horizontal","vertical"],w=r.forwardRef((e,t)=>{let{decorative:n,orientation:r=k,...l}=e,o=j.includes(r)?r:k;return(0,a.jsx)(v.WV.div,{"data-orientation":o,...n?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...l,ref:t})});w.displayName="Separator";var N=n(2169);let C=r.forwardRef((e,t)=>{let{className:n,orientation:r="horizontal",decorative:l=!0,...o}=e;return(0,a.jsx)(w,{ref:t,decorative:l,orientation:r,className:(0,N.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",n),...o})});C.displayName=w.displayName;let P=o()(()=>n.e(773).then(n.bind(n,8773)).then(e=>e.default),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),S={h1:{name:"一级标题",keyCommand:"h1",buttonProps:{"aria-label":"插入一级标题"},icon:(0,a.jsx)("span",{className:"text-sm font-bold",children:"H1"}),execute:(e,t)=>{let n="# ".concat(e.selectedText,"\n");t.replaceSelection(n)}},h2:{name:"二级标题",keyCommand:"h2",buttonProps:{"aria-label":"插入二级标题"},icon:(0,a.jsx)("span",{className:"text-sm font-bold",children:"H2"}),execute:(e,t)=>{let n="## ".concat(e.selectedText,"\n");t.replaceSelection(n)}},h3:{name:"三级标题",keyCommand:"h3",buttonProps:{"aria-label":"插入三级标题"},icon:(0,a.jsx)("span",{className:"text-sm font-bold",children:"H3"}),execute:(e,t)=>{let n="### ".concat(e.selectedText,"\n");t.replaceSelection(n)}},bold:{name:"粗体",keyCommand:"bold",buttonProps:{"aria-label":"添加粗体文本"},icon:(0,a.jsx)(c,{className:"h-4 w-4"}),execute:(e,t)=>{let n="**".concat(e.selectedText,"**");t.replaceSelection(n)}},italic:{name:"斜体",keyCommand:"italic",buttonProps:{"aria-label":"添加斜体文本"},icon:(0,a.jsx)(s,{className:"h-4 w-4"}),execute:(e,t)=>{let n="_".concat(e.selectedText,"_");t.replaceSelection(n)}},strikethrough:{name:"删除线",keyCommand:"strikethrough",buttonProps:{"aria-label":"添加删除线"},icon:(0,a.jsx)(d,{className:"h-4 w-4"}),execute:(e,t)=>{let n="~~".concat(e.selectedText,"~~");t.replaceSelection(n)}},quote:{name:"引用",keyCommand:"quote",buttonProps:{"aria-label":"插入引用"},icon:(0,a.jsx)(u,{className:"h-4 w-4"}),execute:(e,t)=>{let n="> ".concat(e.selectedText,"\n");t.replaceSelection(n)}},spoiler:{name:"黑幕",keyCommand:"spoiler",buttonProps:{"aria-label":"添加黑幕"},icon:(0,a.jsx)(m,{className:"h-4 w-4"}),execute:(e,t)=>{let n=">!".concat(e.selectedText,"!<");t.replaceSelection(n)}},code:{name:"代码",keyCommand:"code",buttonProps:{"aria-label":"插入代码"},icon:(0,a.jsx)(f,{className:"h-4 w-4"}),execute:(e,t)=>{let n="`".concat(e.selectedText,"`");t.replaceSelection(n)}},link:{name:"链接",keyCommand:"link",buttonProps:{"aria-label":"插入链接"},icon:(0,a.jsx)(x,{className:"h-4 w-4"}),execute:(e,t)=>{let n=e.selectedText.match(/^https?:\/\//)?e.selectedText:"",a="[".concat(e.selectedText,"](").concat(n,")");t.replaceSelection(a)}},image:{name:"图片",keyCommand:"image",buttonProps:{"aria-label":"插入图片"},icon:(0,a.jsx)(p,{className:"h-4 w-4"}),execute:(e,t)=>{let n="![](".concat(e.selectedText,")");t.replaceSelection(n)}},unorderedList:{name:"无序列表",keyCommand:"unordered-list",buttonProps:{"aria-label":"插入无序列表"},icon:(0,a.jsx)(y,{className:"h-4 w-4"}),execute:(e,t)=>{let n="- ".concat(e.selectedText,"\n");t.replaceSelection(n)}},orderedList:{name:"有序列表",keyCommand:"ordered-list",buttonProps:{"aria-label":"插入有序列表"},icon:(0,a.jsx)(h,{className:"h-4 w-4"}),execute:(e,t)=>{let n="1. ".concat(e.selectedText,"\n");t.replaceSelection(n)}},mention:{name:"提及",keyCommand:"mention",buttonProps:{"aria-label":"提及用户"},icon:(0,a.jsx)(b,{className:"h-4 w-4"}),execute:(e,t)=>{let n="@".concat(e.selectedText);t.replaceSelection(n)}}};function z(e){let{value:t,onChange:n,onImageUpload:l,className:o,...i}=e,c=r.useCallback(async e=>{var a;if(!l)return;let r=null===(a=e.clipboardData)||void 0===a?void 0:a.items;if(r){for(let a of Array.from(r))if(0===a.type.indexOf("image")){e.preventDefault();let r=a.getAsFile();if(!r)continue;try{let e=await l(r),a="![](".concat(e,")\n");null==n||n(t?t+a:a)}catch(e){console.error("Failed to upload image:",e)}}}},[l,n,t]),s=r.useCallback(async e=>{if(l){for(let a of(e.preventDefault(),Array.from(e.dataTransfer.files)))if(0===a.type.indexOf("image"))try{let e=await l(a),r="![](".concat(e,")\n");null==n||n(t?t+r:r)}catch(e){console.error("Failed to upload image:",e)}}},[l,n,t]),d=r.useCallback(e=>{let t=e.target.value,a=t.split(/\s/).pop();if(a&&/^https?:\/\/\S+$/.test(a)){let e=a.match(/https?:\/\/(?:www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_-]+)/)||a.match(/https?:\/\/(?:www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){let r=e[1],l=t.replace(a,'<iframe width="560" height="315" src="https://www.youtube.com/embed/'.concat(r,'" frameborder="0" allowfullscreen></iframe>'));null==n||n(l)}else{let e=t.replace(a,"[".concat(a,"](").concat(a,")"));null==n||n(e)}}},[n]);return(0,a.jsxs)("div",{className:(0,N.cn)("markdown-editor",o),onPaste:c,onDrop:s,children:[(0,a.jsx)("div",{className:"border-b p-1.5",children:(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-0.5",children:Object.entries(S).map(e=>{let[t,n]=e;return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(g.z,{variant:"ghost",size:"icon",className:"h-6 w-6",...n.buttonProps,onClick:()=>n.execute({selectedText:""},{}),children:n.icon}),["h3","italic","quote","code","image","orderedList"].includes(t)&&(0,a.jsx)(C,{orientation:"vertical",className:"mx-1 h-4"})]},t)})})}),(0,a.jsx)(P,{value:t,onChange:e=>null==n?void 0:n(e||""),preview:"edit",hideToolbar:!0,className:"min-h-[400px] border-0",textareaProps:{placeholder:"说点什么...",onInput:d},...i})]})}var _=n(3277),T=n(2782);let M=[{id:1,name:"OTA测试室",icon:"#"},{id:2,name:"故事记",icon:"#"},{id:3,name:"记忆迷宫",icon:"#"},{id:4,name:"记忆迷宫",icon:"#"},{id:5,name:"充电攻略",icon:"#"},{id:6,name:"NGP体验营",icon:"#"},{id:7,name:"新能源",icon:"#"},{id:8,name:"记忆迷宫",icon:"#"},{id:9,name:"充电攻略",icon:"#"},{id:10,name:"充电攻略",icon:"#"},{id:11,name:"充电攻略",icon:"#"},{id:12,name:"充电攻略",icon:"#"},{id:13,name:"充电攻略",icon:"#"}];function O(){let[e,t]=r.useState(""),[n,l]=r.useState(""),o=r.useCallback(async e=>Promise.resolve(""),[]),i=r.useCallback(()=>{console.log({title:n,content:e})},[n,e]),c=r.useCallback(()=>{console.log("Save draft",{title:n,content:e})},[n,e]);return(0,a.jsxs)("div",{className:"bg-white",children:[(0,a.jsxs)("div",{className:"mx-auto flex max-w-[808px] items-center justify-between px-6 py-4",children:[(0,a.jsx)("h1",{className:"text-lg font-medium",children:"发布文章"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(g.z,{variant:"outline",size:"sm",onClick:c,children:"保存草稿箱"}),(0,a.jsx)(g.z,{size:"sm",onClick:i,children:"发布"})]})]}),(0,a.jsxs)("main",{className:"mx-auto max-w-[808px] px-6",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:M.map(e=>(0,a.jsxs)(_.C,{variant:"secondary",className:"flex items-center space-x-1 rounded-full px-3 py-1",children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.name})]},e.id))})}),(0,a.jsx)(T.I,{value:n,onChange:e=>l(e.target.value),placeholder:"请输入文章标题",className:"mb-4 border-0 px-0 text-lg placeholder:text-gray-400 focus-visible:ring-0"}),(0,a.jsx)(z,{value:e,onChange:t,onImageUpload:o,className:"rounded-lg border"})]})]})}},3277:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var a=n(7437);n(2265);var r=n(6061),l=n(2169);let o=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(o({variant:n}),t),...r})}},575:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var a=n(7437),r=n(2265),l=n(7256),o=n(6061),i=n(2169);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=r.forwardRef((e,t)=>{let{className:n,variant:r,size:o,asChild:s=!1,...d}=e,u=s?l.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(c({variant:r,size:o,className:n})),ref:t,...d})});s.displayName="Button"},2782:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var a=n(7437),r=n(2265),l=n(2169);let o=r.forwardRef((e,t)=>{let{className:n,type:r,...o}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input"},2169:function(e,t,n){"use strict";n.d(t,{cn:function(){return l}});var a=n(7042),r=n(4769);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[461,971,938,744],function(){return e(e.s=2274)}),_N_E=e.O()}]);